{% extends "base.html" %}
{% load static %}
{% load crispy_forms_filters %}
{% load crispy_forms_tags %}
{% load thumbnail %}
{% load cloudinary %}

{% block content %}
<h3   id="delete_tournament" type="button" style="background-color:lightseagreen "  class="btn btn-primary">
    <a style="color:white; text-decoration: none;" href = "{% url 'galleries:add_gallery' %}">
        Dodaj galerię
    </a>
</h3>
<div class="pagination">
    <span class = "step-links">
        {% if galleries_list.has_previous %}
        <a href="?page=1">
            &laquo; pierwsza
        </a>
        <a href="?page={{ galleries_list.previous_page_number }}">
            poprzednia
        </a>
        {% endif %}
        <span class="current">
            strona {{ galleries_list.number}}  z {{ galleries_list.paginator.num_pages }}.
        </span>
        {% if galleries_list.has_next %}
        <a href="?page={{ galleries_list.next_page_number }}">
            następna
        </a>
        <a href="?page={{ galleries_list.end_index }}">
            ostatnia
        </a>
        {% endif %}
        {% if galleries_list.end_index %}
        {% endif %}
    </span>
</div>
<h4>
    Lista galerii:
</h4>
<div class="row">
    {%  for gallery in galleries_list %}
    <div class="col-lg-3 col-md-6 mb-4">
        <div class="card h-100">
{#            {% thumbnail gallery.photos.first.image "300x300" crop="center" as im %}#}
{#            <img class=card-img-top" src="{{  im.url }}" alt="">#}
{#            {% endthumbnail %}#}
            {% cloudinary gallery.photos.first.image "300x300" crop="center" as im%}
                 <img class=card-img-top" src="{{  im.url }}" alt="">#}
{#            width="300" #}

            <div class="card-body">
                <h4 class="card-title text-center">
                    {{ gallery.title }}
                </h4>
            </div >
            <div  class="card-footer text-center"  >
                <a href= "{% url 'galleries:gallery_details' gallery.id %}" class="btn btn-primary">
                    Pokaż
                </a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
<div class="pagination">
    <span class = "step-links">
        {% if galleries_list.has_previous %}
        <a href="?page=1">
            &laquo; pierwsza
        </a>
        <a href="?page={{ galleries_list.previous_page_number }}">
            poprzednia
        </a>
        {% endif %}
        <span class="current">
            strona {{ galleries_list.number}}  z {{ galleries_list.paginator.num_pages }}.
        </span>
        {% if galleries_list.has_next %}
        <a href="?page={{ galleries_list.next_page_number }}">
            następna
        </a>
        <a href="?page={{ galleries_list.end_index }}">
            ostatnia
        </a>
        {% endif %}
        {% if galleries_list.end_index %}
        {% endif %}
    </span>
</div>
{% endblock %}
{%  block additional_scripts %}
{{ form.media }}
{% endblock %}